<div class="container" id="parent" style="margin:0px; padding: 0px;min-width: 100vw; min-height: 100vh;">
  <header class="header-2">
    <div class="page-header max-vh-100 relative" style="background-image: url('./assets/img/bg2.jpg'); min-height: 45vh!important; filter: blur(8px);
    -webkit-filter: blur(8px);">
      <span class="mask bg-gradient-primary opacity-4"></span>
    </div>
    <nav
      class="navbar navbar-expand-lg border-radius-xl top-0 z-index-fixed shadow position-absolute my-3 py-1 start-0 end-0 mx-4"
      style="
    backdrop-filter: saturate(200%) blur(20px);background-color: rgba(255, 255, 255, 0.1) !important; max-height: 120px;">
      <div class="container-fluid px-0" style="display: block">
        <a class="navbar-brand font-weight-bolder ms-sm-3" href="#" rel="tooltip" title="BTAG" data-placement="bottom"
          target="_blank">
          <div class="col-lg-7 text-center mx-auto">
            <h1 class="text-white pt-6 mt-n5">BTAG Customer Consultant Dashboard</h1>
            <p class="lead text-white mt-3">Connect to our Consultant to implement DevOps workflow</p>
          </div>
        </a>
      </div>
    </nav>
  </header>
  <div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n10">
    <section>
      <div class="row">
        <div class="col-lg-9 mx-auto py-3">
          <div class="row">
            <div class="col-md-6 position-relative">
              <div class="p-3 text-center">
                <h5 class="mt-3">Registered Customer</h5>
                <h1 class="text-gradient text-primary"><span id="state1" countto="70">{{studentCount}}</span>+</h1>
                <h5 class="mt-3">Customer Registration</h5>
                <a class="text-sm font-weight-normal" data-bs-toggle="modal" data-bs-target="#studentModal"
                  (click)="showModalUpdate('create')" style="cursor: pointer">Register for our consultation</a>
              </div>
              <hr class="vertical dark">
            </div>
            <div class="col-md-6 position-relative">
              <div class="p-3 text-center">
                <h5 class="mt-3">Registered Consultant</h5>
                <h1 class="text-gradient text-primary"> <span id="state2" countto="15">{{mentorCount}}</span>+</h1>
                <h5 class="mt-3">Consultant Registration</h5>
                <a class="text-sm font-weight-normal" data-bs-toggle="modal" data-bs-target="#mentorModal"
                  (click)="showModalMentorUpdate('create')" style="cursor: pointer">Register Youself to be part of our
                  team</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section>
      <div class="row">
        <div class="col-lg-9 mx-auto py-1">
          <div class="row">
            <div class="col-md-6 position-relative">
              <div class="table-responsive">
                <table class="table align-items-left mb-0" aria-label="student-table">
                  <thead>
                    <tr>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Customer</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                        Consultant</th>
                      <th class="text-secondary opacity-7"></th>
                      <th class="text-secondary opacity-7"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let student of studentDetails">
                      <td>
                        <div class="d-flex px-2 py-1">
                          <div class="d-flex flex-column justify-content-center">
                            <h6 class="mb-0 text-xs">{{student.firstName.concat(" ",student.lastName)}}</h6>
                            <p class="text-xs text-secondary mb-0">{{student.email}}</p>
                          </div>
                        </div>
                      </td>
                      <td>
                        <p class="text-xs font-weight-bold mb-0">{{student.mentorName}}</p>
                        <p class="text-xs text-secondary mb-0">{{student.mentorEmail}}</p>
                      </td>
                      <td class="align-middle">
                        <a class="text-secondary font-weight-normal text-xs" data-bs-toggle="modal"
                          data-bs-target="#studentModal" (click)="showModalUpdate(student)"
                          style="cursor: pointer">Edit</a>
                      </td>
                      <td class="align-middle">
                        <a class="text-secondary font-weight-normal text-xs" (click)="deleteStudent(student)"
                          style="cursor: pointer">Delete</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <hr class="vertical dark">
            </div>
            <div class="col-md-6 position-relative">
              <div class="table-responsive">
                <table class="table align-items-left mb-0" aria-label="mentor-table">
                  <thead>
                    <tr>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Consultant</th>
                      <th class="text-secondary opacity-7"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let mentor of mentorDetails">
                      <td>
                        <div class="d-flex px-2 py-1">
                          <div class="d-flex flex-column justify-content-center">
                            <h6 class="mb-0 text-xs">{{mentor.firstName.concat(" ",mentor.lastName)}}</h6>
                            <p class="text-xs text-secondary mb-0">{{mentor.email}}</p>
                          </div>
                        </div>
                      </td>
                      <td class="align-middle">
                        <a class="text-secondary font-weight-normal text-xs" data-bs-toggle="modal"
                          data-bs-target="#mentorModal" (click)="showModalMentorUpdate(mentor)"
                          style="cursor: pointer">Edit</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>


  <div class="modal fade" id="studentModal" tabindex="-1" aria-labelledby="studentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bolder text-primary text-gradient text-center w-100"
            id="studentModalLabel">{{studentModalTitle}}</h5>
          <button type="button" #closeStudentModal class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="row-fluid">
            <form #updateForm="ngForm" name="form" (ngSubmit)="updateForm.form.valid && createOrUpdateStudent()">
              <div *ngIf="(updateForm.submitted && !updateForm.form.valid) || hasError" class="alert alert-danger"
                style="margin-top: 10px !important;">
                <div *ngIf="!updateForm.form.valid || hasError" style="text-align: center;">
                  {{errorMessage}}
                </div>
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <label for="firstName">First Name :</label>
                <input type="text" #firstname="ngModel" [(ngModel)]="studentDetailsUpdate.firstName" name="firstName"
                  id="firstName" class="form-control" placeholder="Customer First Name" required minlength="3"
                  maxlength="20">
                <div *ngIf="updateForm.submitted && firstname?.invalid && (firstname?.dirty || firstname?.touched)"
                  class="alert alert-danger" style="margin-top: 10px !important;">
                  <div *ngIf="firstname.errors?.['required']">
                    First Name is required.
                  </div>
                  <div *ngIf="firstname.errors?.['minlength']">
                    First Name must be minimum 3 characters long.
                  </div>
                  <div *ngIf="firstname.errors?.['maxlength']">
                    First Name must be maximum 20 characters long.
                  </div>
                </div>
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <label for="lastName">Last Name :</label>
                <input type="text" #lname [(ngModel)]="studentDetailsUpdate.lastName" name="lastName" id="lastName"
                  class="form-control" placeholder="Customer Last Name">
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <label for="email">Email :</label>
                <input type="text" #email [(ngModel)]="studentDetailsUpdate.email" name="email" id="email"
                  class="form-control input-group mb-3" placeholder="Customer Email">
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <label for="mentor">Consultant :</label>
                <div class="dropdown">
                  <button class="btn bg-gradient-primary dropdown-toggle" type="button" id="mentorDropdownMenuBtn"
                    data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" data-display="static"
                    [title]="studentDetailsUpdate.mentorName || 'Select'">
                    <span>
                      {{studentDetailsUpdate ? (studentDetailsUpdate.mentorName.length > 0 ?
                      studentDetailsUpdate.mentorName : 'Select') : 'Select'}}
                    </span>
                  </button>
                  <div class="dropdown-menu">
                    <div class="dropdown-items">
                      <ng-container *ngFor="let item of mentorDetails; let i = index;">
                        <div class="dropdown-item" *ngIf="item.firstName" (click)='onChange(item)'>
                          {{item.firstName + " " + item.lastName}}
                        </div>
                      </ng-container>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <input type="submit" value={{formSubmitTitle}}
                  class="btn bg-gradient-primary btn-lg btn-rounded w-100 mt-4 mb-0">
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="mentorModal" tabindex="-1" aria-labelledby="mentorModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bolder text-primary text-gradient text-center w-100" id="mentorModalLabel">
            {{mentorModalTitle}}</h5>
          <button type="button" #closeMentorModal class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="row-fluid">
            <form #updateForm="ngForm" name="form" (ngSubmit)="updateForm.form.valid && createOrUpdateMentor()">
              <div *ngIf="(updateForm.submitted && !updateForm.form.valid) || hasError" class="alert alert-danger"
                style="margin-top: 10px !important;">
                <div *ngIf="!updateForm.form.valid || hasError" style="text-align: center;">
                  {{errorMessage}}
                </div>
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <label for="firstName">First Name :</label>
                <input type="text" #firstname="ngModel" [(ngModel)]="mentorDetailsUpdate.firstName" name="firstName"
                  id="firstName" class="form-control" placeholder="Consultant First Name" required minlength="3"
                  maxlength="20">
                  <div *ngIf="updateForm.submitted && firstname?.invalid && (firstname?.dirty || firstname?.touched)"
                  class="alert alert-danger" style="margin-top: 10px !important;">
                  <div *ngIf="firstname.errors?.['required']">
                    First Name is required.
                  </div>
                  <div *ngIf="firstname.errors?.['minlength']">
                    First Name must be minimum 3 characters long.
                  </div>
                  <div *ngIf="firstname.errors?.['maxlength']">
                    First Name must be maximum 20 characters long.
                  </div>
                </div>
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <label for="lastName">Last Name :</label>
                <input type="text" #lname [(ngModel)]="mentorDetailsUpdate.lastName" name="lastName" id="lastName"
                  class="form-control" placeholder="Consultant Last Name">
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <label for="email">Email :</label>
                <input type="text" #email [(ngModel)]="mentorDetailsUpdate.email" name="email" id="email"
                  class="form-control input-group mb-3" placeholder="Consultant Email">
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <input type="submit" value={{formSubmitTitle}}
                  class="btn bg-gradient-primary btn-lg btn-rounded w-100 mt-4 mb-0">
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>