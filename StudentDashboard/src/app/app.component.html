
<div class="container" style="margin:0px; padding: 0px;min-width: 100vw; min-height: 100vh;">
  
  <header class="header-2">
    <div class="page-header max-vh-100 relative" style="background-image: url('./assets/img/bg2.jpg'); min-height: 75vh!important; filter: blur(8px);
    -webkit-filter: blur(8px);">
      <span class="mask bg-gradient-primary opacity-4"></span>
    </div>
    <nav class="navbar navbar-expand-lg border-radius-xl top-0 z-index-fixed shadow position-absolute my-5 py-2 start-0 end-0 mx-4" style="
    backdrop-filter: saturate(200%) blur(20px);background-color: rgba(255, 255, 255, 0.1) !important;">
      <div class="container-fluid px-0" style="display: block">
        <a class="navbar-brand font-weight-bolder ms-sm-3" href="#" rel="tooltip" title="BTAG" data-placement="bottom" target="_blank">
          <div class="col-lg-7 text-center mx-auto">
            <h1 class="text-white pt-6 mt-n5">BTAG Intern Student Dashboard</h1>
            <p class="lead text-white mt-3">Join over working with fun and innovation </p>
          </div>
        </a>
      </div>
    </nav>
  </header>
  <div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n6">
    <section class="pt-3 pb-4">
      <div class="row">
        <div class="col-lg-9 mx-auto py-3">
          <div class="row">
            <div class="col-md-6 position-relative">
              <div class="p-3 text-center">
                <h1 class="text-gradient text-primary"><span id="state1" countto="70">10</span>+</h1>
                <h5 class="mt-3">Register Intern</h5>
                <a class="text-sm font-weight-normal" data-bs-toggle="modal" data-bs-target="#studentModal" (click)="showModalUpdate('create')" style="cursor: pointer">Register intern to join this unit</a>
              </div>
              <hr class="vertical dark">
            </div>
            <div class="col-md-6 position-relative">
              <div class="p-3 text-center">
                <h1 class="text-gradient text-primary"> <span id="state2" countto="15">5</span>+</h1>
                <h5 class="mt-3">Register Mentor</h5>
                <a class="text-sm font-weight-normal" (click)="showModalUpdate('create')" style="cursor: pointer">Register mentors to join this unit</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
  <div class="d-flex flex-row-reverse mt-4">
    <button type="button" class="btn btn-primary btn-lg me-5" data-bs-toggle="modal" data-bs-target="#studentModal"
      (click)="showModalUpdate('create')">Create Student</button>
  </div>
  <div class="mt-5">
    <table class="table table-bordered" aria-label="student-table">
      <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Email</th>
          <th>Mentor</th>
          <th>Edit</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody class="tbody">
        <tr *ngFor="let student of studentDetails">
          <td>{{student.firstName}}</td>
          <td>{{student.lastName}}</td>
          <td>{{student.email}}</td>
          <td>{{student.mentorName}}</td>
          <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#studentModal"
              (click)="showModalUpdate
            (student)">Edit</button></td>
          <td><button type="button" class="btn btn-danger" (click)="deleteStudent(student)">Delete</button></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="modal fade" id="studentModal" tabindex="-1" aria-labelledby="studentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title text-center w-100" id="studentModalLabel">{{studentModalTitle}}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="row-fluid">
            <form #updateForm="ngForm" name="form" (ngSubmit)="updateForm.form.valid && createOrUpdateStudent()">
              <div *ngIf="updateForm.submitted && !updateForm.form.valid" class="alert alert-danger"
                style="margin-top: 10px !important;">
                <div *ngIf="!updateForm.form.valid">
                  Please provide all Information
                </div>
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <label for="firstName">First Name :</label>
                <input type="text" #firstname="ngModel" [(ngModel)]="studentDetailsUpdate.firstName" name="firstName"
                  id="firstName" class="form-control" placeholder="Student First Name" required minlength="6"
                  maxlength="20">
                <div *ngIf="updateForm.submitted && firstname?.invalid && (firstname?.dirty || firstname?.touched)"
                  class="alert alert-danger" style="margin-top: 10px !important;">
                  <div *ngIf="firstname.errors?.['required']">
                    First Name is required.
                  </div>
                  <div *ngIf="firstname.errors?.['minlength']">
                    First Name must be minimum 6 characters long.
                  </div>
                  <div *ngIf="firstname.errors?.['maxlength']">
                    First Name must be maximum 20 characters long.
                  </div>
                </div>
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <label for="lastName">Last Name :</label>
                <input type="text" #lname [(ngModel)]="studentDetailsUpdate.lastName" name="lastName" id="lastName"
                  class="form-control" placeholder="Student Last Name">
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <label for="email">Email :</label>
                <input type="text" #email [(ngModel)]="studentDetailsUpdate.email" name="email" id="email"
                  class="form-control" placeholder="Student Email">
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <label for="mentor">Mentor :</label>
                <div class="dropdown">
                  <button class="btn btn-secondary dropdown-toggle" type="button" id="mentorDropdownMenuBtn"
                    data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" data-display="static"
                    [title]="studentDetailsUpdate.mentorName || 'Select'">
                    <span>
                      {{studentDetailsUpdate ? (studentDetailsUpdate.mentorName.length > 0 ? studentDetailsUpdate.mentorName : 'Select') : 'Select'}}
                    </span>
                  </button>
                  <div class="dropdown-menu">
                    <div class="dropdown-items">
                      <ng-container *ngFor="let item of mentorDetails; let i = index;">
                        <div class="dropdown-item" *ngIf="item.firstName" (click)='onChange(item)'>
                          {{item.firstName + " " + item.lastName}}
                        </div>
                      </ng-container>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group" style="margin-top: 10px !important;">
                <input type="submit" value={{formSubmitTitle}} class="btn btn-primary w-100 me-20">
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="d-flex flex-row-reverse mt-4">
    <button type="button" class="btn btn-primary btn-lg me-5" data-bs-toggle="modal" data-bs-target="#mentorModal"
      (click)="showModalMentorUpdate('create')">Create Mentor</button>
  </div>
  <div class="mt-5">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Email</th>
          <th>Edit</th>
        </tr>
      </thead>
      <tbody class="tbody">
        <tr *ngFor="let mentor of mentorDetails">
          <td>{{mentor.firstName}}</td>
          <td>{{mentor.lastName}}</td>
          <td>{{mentor.email}}</td>
          <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#mentorModal"
              (click)="showModalMentorUpdate(mentor)">Edit</button></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="modal fade" id="mentorModal" tabindex="-1" aria-labelledby="mentorModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title text-center w-100" id="mentorModalLabel">Create Mentor Information</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal">
          </button>
        </div>
        <div class="modal-body">
          <form #updateForm="ngForm" (ngSubmit)="createOrUpdateMentor()">
            <div class="form-group">
              <label for="firstName">First Name :</label>
              <input type="text" #fname [(ngModel)]="studentDetailsUpdate.firstName" name="firstName" id="firstName"
                class="form-control" placeholder="Student First Name">
            </div>
            <div class="form-group">
              <label for="lastName">Last Name :</label>
              <input type="text" #lname [(ngModel)]="studentDetailsUpdate.lastName" name="lastName" id="lastName"
                class="form-control" placeholder="Student Last Name">
            </div>
            <div class="form-group">
              <label for="email">Email :</label>
              <input type="text" #email [(ngModel)]="studentDetailsUpdate.email" name="email" id="email"
                class="form-control" placeholder="Student Email">
            </div>
            <div class="form-group">
              <input type="submit" value={{formSubmitTitle}} class="btn btn-primary w-100">
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>